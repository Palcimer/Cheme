CREATE TABLE MEMBER(
    MEMBER_NO NUMBER PRIMARY KEY,
    MEMBER_ID VARCHAR2(20) UNIQUE,
    MEMBER_PW VARCHAR2(20) NOT NULL,
    MEMBER_NAME VARCHAR2(24) NOT NULL,
    PHONE CHAR(11) NOT NULL,
    MEMBER_LEV NUMBER NOT NULL,
    GENDER CHAR(3) NOT NULL,
    ADDR VARCHAR2(300)
);
CREATE SEQUENCE MEM_SEQ;

CREATE TABLE CATEGORY(
    CATEGORY_NO NUMBER PRIMARY KEY,
    CATEGORY_NAME VARCHAR2(20) NOT NULL
);
CREATE SEQUENCE CATE_SEQ;

CREATE TABLE GROUPS(
    GROUP_ID NUMBER PRIMARY KEY,
    GROUP_NAME VARCHAR2(60) NOT NULL,
    GROUP_DETAIL VARCHAR2(2000) NOT NULL,
    GROUP_LEADER NUMBER REFERENCES MEMBER (MEMBER_NO) ON DELETE SET NULL,
    GROUP_IMG VARCHAR2(50) NOT NULL,
    MAX_MEMBER NUMBER NOT NULL,
    GROUP_CATEGORY NUMBER REFERENCES CATEGORY (CATEGORY_NO),
    RECOM NUMBER DEFAULT 0,
    KEYWORD1 VARCHAR2(24),
    KEYWORD2 VARCHAR2(24),
    KEYWORD3 VARCHAR2(24),
    KEYWORD4 VARCHAR2(24),
    KEYWORD5 VARCHAR2(24)
);
CREATE SEQUENCE GROUP_SEQ;

CREATE TABLE G_MEMBER(
    MEMBER_NO NUMBER REFERENCES MEMBER (MEMBER_NO) ON DELETE CASCADE,
    GROUP_ID NUMBER REFERENCES GROUPS (GROUP_ID) ON DELETE CASCADE
);

CREATE TABLE NOTICE(
    NOTICE_NO NUMBER PRIMARY KEY,
    NOTICE_TITLE VARCHAR2(100) NOT NULL,
    NOTICE_CONTENT VARCHAR2(2000) NOT NULL,
    NOTICE_WRITER NUMBER REFERENCES MEMBER (MEMBER_NO) ON DELETE SET NULL,
    NOTICE_DATE CHAR(10) NOT NULL,
    NOTICE_FILENAME VARCHAR2(50),
    NOTICE_FILEPATH VARCHAR2(50)
);
CREATE SEQUENCE NOTICE_SEQ;

CREATE TABLE BOARD(
    BOARD_NO NUMBER PRIMARY KEY,
    BOARD_TITLE VARCHAR2(100) NOT NULL,
    BOARD_CONTENT VARCHAR2(2000) NOT NULL,
    BOARD_WRITER NUMBER REFERENCES MEMBER (MEMBER_NO) ON DELETE CASCADE,
    BOARD_DATE CHAR(10) NOT NULL,
    BOARD_FILENAME VARCHAR2(50),
    BOARD_FILEPATH VARCHAR2(50)
);
CREATE SEQUENCE BOARD_SEQ;

CREATE TABLE G_NOTICE(
    G_NOTICE_NO NUMBER PRIMARY KEY,
    GROUP_ID NUMBER REFERENCES GROUPS (GROUP_ID) ON DELETE CASCADE,
    G_NOTICE_TITLE VARCHAR2(100) NOT NULL,
    G_NOTICE_CONTENT VARCHAR2(2000) NOT NULL,
    G_NOTICE_WRITER NUMBER REFERENCES MEMBER (MEMBER_NO) ON DELETE SET NULL,
    G_NOTICE_DATE CHAR(10) NOT NULL,
    G_NOTICE_FILENAME VARCHAR2(50),
    G_NOTICE_FILEPATH VARCHAR2(50)
);
CREATE SEQUENCE G_NOTICE_SEQ;

CREATE TABLE GALLERY(
    GALLERY_NO NUMBER PRIMARY KEY,
    GROUP_ID NUMBER REFERENCES GROUPS (GROUP_ID) ON DELETE CASCADE,
    GALLERY_TITLE VARCHAR2(100) NOT NULL,
    GALLERY_CONTENT VARCHAR2(2000) NOT NULL,
    GALLERY_WRITER NUMBER REFERENCES MEMBER (MEMBER_NO) ON DELETE CASCADE,
    GALLERY_DATE CHAR(10) NOT NULL,
    GALLERY_FILENAME VARCHAR2(50) NOT NULL,
    GALLERY_FILEPATH VARCHAR2(50) NOT NULL
);
CREATE SEQUENCE GAL_SEQ;

CREATE TABLE G_BOARD(
    G_BOARD_NO NUMBER PRIMARY KEY,
    GROUP_ID NUMBER REFERENCES GROUPS (GROUP_ID) ON DELETE CASCADE,
    G_BOARD_TITLE VARCHAR2(100) NOT NULL,
    G_BOARD_CONTENT VARCHAR2(2000) NOT NULL,
    G_BOARD_WRITER NUMBER REFERENCES MEMBER (MEMBER_NO) ON DELETE SET NULL,
    G_BOARD_DATE CHAR(10) NOT NULL,
    G_BOARD_FILENAME VARCHAR2(50),
    G_BOARD_FILEPATH VARCHAR2(50)
);
CREATE SEQUENCE G_BOARD_SEQ;

CREATE TABLE G_NOTICE_COMMENT(
    G_NOTICE_COMMENT_NO NUMBER PRIMARY KEY,
    G_NOTICE_NO NUMBER REFERENCES G_NOTICE (G_NOTICE_NO) ON DELETE CASCADE,
    G_NOTICE_COMMENT_CONTENT VARCHAR2(1000) NOT NULL,
    G_NOTICE_COMMENT_WRITER NUMBER REFERENCES MEMBER (MEMBER_NO) ON DELETE CASCADE,
    G_NOTICE_COMMENT_LEV NUMBER NOT NULL,
    G_NOTICE_COMMENT_REF NUMBER REFERENCES G_NOTICE_COMMENT (G_NOTICE_COMMENT_NO) ON DELETE CASCADE
);
CREATE SEQUENCE G_NOTICE_COMMENT_SEQ;

CREATE TABLE GAL_COMMENT(
    GAL_COMMENT_NO NUMBER PRIMARY KEY,
    GALLERY_NO NUMBER REFERENCES GALLERY (GALLERY_NO) ON DELETE CASCADE,
    GAL_COMMENT_CONTENT VARCHAR2(1000) NOT NULL,
    GAL_COMMENT_WRITER NUMBER REFERENCES MEMBER (MEMBER_NO) ON DELETE CASCADE,
    GAL_COMMENT_LEV NUMBER NOT NULL,
    GAL_COMMENT_REF NUMBER REFERENCES GAL_COMMENT (GAL_COMMENT_NO) ON DELETE CASCADE
);
CREATE SEQUENCE GAL_COMMENT_SEQ;

CREATE TABLE G_BOARD_COMMENT(
    G_BOARD_COMMENT_NO NUMBER PRIMARY KEY,
    G_BOARD_NO NUMBER REFERENCES G_BOARD (G_BOARD_NO) ON DELETE CASCADE,
    G_BOARD_COMMENT_CONTENT VARCHAR2(1000) NOT NULL,
    G_BOARD_COMMENT_WRITER NUMBER REFERENCES MEMBER (MEMBER_NO) ON DELETE CASCADE,
    G_BOARD_COMMENT_LEV NUMBER NOT NULL,
    G_BOARD_COMMENT_REF NUMBER REFERENCES G_BOARD_COMMENT (G_BOARD_COMMENT_NO) ON DELETE CASCADE
);
CREATE SEQUENCE G_BOARD_COMMENT_SEQ;

CREATE TABLE BOARD_COMMENT(
    BOARD_COMMENT_NO NUMBER PRIMARY KEY,
    BOARD_NO NUMBER REFERENCES BOARD (BOARD_NO) ON DELETE CASCADE,
    BOARD_COMMENT_CONTENT VARCHAR2(1000) NOT NULL,
    BOARD_COMMENT_WRITER NUMBER REFERENCES MEMBER (MEMBER_NO) ON DELETE CASCADE,
    BOARD_COMMENT_LEV NUMBER NOT NULL,
    BOARD_COMMENT_REF NUMBER REFERENCES BOARD_COMMENT (BOARD_COMMENT_NO) ON DELETE CASCADE
);
CREATE SEQUENCE BOARD_COMMENT_SEQ;